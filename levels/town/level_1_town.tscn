[gd_scene load_steps=34 format=3 uid="uid://brusqmphxxu8w"]

[ext_resource type="Script" path="res://levels/level_scripts/level_1_town.gd" id="1_38psm"]
[ext_resource type="PackedScene" uid="uid://d4dpby6nl5gx2" path="res://environment/assets/village/ground/scenes/paving_cobble_rough_1.tscn" id="4_f20o0"]
[ext_resource type="PackedScene" uid="uid://b3g4rtj8g2p3d" path="res://characters/player/player.tscn" id="5_1n71g"]
[ext_resource type="Script" path="res://characters/health_manager.gd" id="6_h6yie"]
[ext_resource type="PackedScene" uid="uid://deet40dn2j7nb" path="res://effects/rain/rain_effect_1.tscn" id="7_pnde6"]
[ext_resource type="PackedScene" uid="uid://cpu20qg3iiof8" path="res://characters/npc/scenes/villager_woman_1.tscn" id="7_s5i1m"]
[ext_resource type="PackedScene" uid="uid://htlhq6xpsfle" path="res://characters/npc/scenes/viking_armour_man_1.tscn" id="8_sh6lw"]
[ext_resource type="PackedScene" uid="uid://dxc8y7qsijn0t" path="res://environment/assets/village/ground/scenes/paving_cobble_flat_1.tscn" id="9_6udfi"]
[ext_resource type="PackedScene" uid="uid://e4sjydpcdwsb" path="res://characters/npc/scenes/knight_1.tscn" id="9_e7xbm"]
[ext_resource type="PackedScene" uid="uid://bupq35mm43272" path="res://characters/npc/scenes/mutant_skeleton_1.tscn" id="10_q1ejs"]
[ext_resource type="PackedScene" uid="uid://bis8jin3jtnyo" path="res://characters/npc/scenes/nun_1.tscn" id="11_wxon7"]
[ext_resource type="PackedScene" uid="uid://cbiwcmy6wmavi" path="res://environment/assets/village/structures/scenes/castle_big_wall_base_1.tscn" id="12_52cyd"]
[ext_resource type="PackedScene" uid="uid://cepvdg3h5k1hr" path="res://characters/npc/scenes/villager_male_1.tscn" id="12_khl8n"]
[ext_resource type="PackedScene" uid="uid://b127y1uhix8do" path="res://environment/assets/village/structures/scenes/castle_big_pillar_base_1.tscn" id="13_tmwbo"]
[ext_resource type="PackedScene" uid="uid://mcodumgw8823" path="res://characters/npc/scenes/lantern_character_1.tscn" id="14_fn874"]
[ext_resource type="PackedScene" uid="uid://cfivxmy8y0l0i" path="res://environment/assets/village/prebuilt_towns/small_town/scenes/full_small_town_1.tscn" id="18_vr4gf"]
[ext_resource type="PackedScene" uid="uid://v25scml6aa42" path="res://environment/assets/village/buildings/scenes/buildings/medieval_building_2.tscn" id="19_r0s14"]
[ext_resource type="PackedScene" uid="uid://b0vq1sr05tjhq" path="res://environment/assets/village/buildings/scenes/buildings/medieval_building_3.tscn" id="20_wbcfj"]
[ext_resource type="PackedScene" uid="uid://co43l6kv6dbht" path="res://environment/assets/village/buildings/scenes/buildings/medieval_building_4.tscn" id="21_s8ahr"]
[ext_resource type="PackedScene" uid="uid://bd8fhmfjorfay" path="res://environment/assets/village/buildings/scenes/buildings/medieval_building_5.tscn" id="22_4wfe0"]
[ext_resource type="PackedScene" uid="uid://dwnt52co5cn8t" path="res://environment/assets/village/buildings/scenes/buildings/full_castle_1.tscn" id="22_7vpp8"]
[ext_resource type="PackedScene" uid="uid://otmsxgsqjb55" path="res://environment/assets/village/buildings/scenes/buildings/medieval_building_6.tscn" id="23_8vit4"]
[ext_resource type="PackedScene" uid="uid://c6d6wmp5xf5c0" path="res://environment/assets/village/buildings/scenes/buildings/medieval_building_7.tscn" id="24_4ctt1"]
[ext_resource type="PackedScene" uid="uid://bdc2md8pwfr0u" path="res://environment/assets/village/prebuilt_towns/harbour_town/scenes/full_harbour_town_1.tscn" id="28_40i1d"]
[ext_resource type="PackedScene" uid="uid://dwwpoangnsb8n" path="res://environment/assets/village/buildings/scenes/buildings/medieval_building_1.tscn" id="29_ggqgj"]
[ext_resource type="PackedScene" uid="uid://lq7366i8slik" path="res://environment/assets/village/outside_props/scenes/gothic_weeping_angel_statue_1.tscn" id="39_6g4s1"]
[ext_resource type="AudioStream" uid="uid://4uhgisbwq7gv" path="res://audio/ambience/Dark_Rainy_Night(ambience).ogg" id="50_axq87"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_7yqkd"]
sky_top_color = Color(0.180392, 0.431373, 0.831373, 1)
sky_horizon_color = Color(0.572549, 0.760784, 0.984314, 1)

[sub_resource type="Sky" id="Sky_jumne"]
sky_material = SubResource("ProceduralSkyMaterial_7yqkd")

[sub_resource type="Environment" id="Environment_ublyh"]
background_mode = 2
sky = SubResource("Sky_jumne")
ambient_light_source = 3
volumetric_fog_enabled = true
volumetric_fog_density = 0.04

[sub_resource type="FogMaterial" id="FogMaterial_br7ke"]

[sub_resource type="SphereShape3D" id="SphereShape3D_2iuiu"]

[sub_resource type="SphereMesh" id="SphereMesh_h30eo"]

[node name="Level1Town" type="Node3D"]
script = ExtResource("1_38psm")

[node name="Environment" type="Node3D" parent="."]

[node name="Ground" type="Node3D" parent="Environment"]

[node name="PavingCobbleFlat1" parent="Environment/Ground" instance=ExtResource("9_6udfi")]
transform = Transform3D(21.4686, 0, 0, 0, 1, 0, 0, 0, 29.0705, -3.82364, 0, -98.0508)

[node name="PavingCobbleRough1" parent="Environment/Ground" instance=ExtResource("4_f20o0")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 19.4426, 0, -22.227)

[node name="PavingCobbleRough5" parent="Environment/Ground" instance=ExtResource("4_f20o0")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -59.6713, 0, -22.227)

[node name="PavingCobbleRough6" parent="Environment/Ground" instance=ExtResource("4_f20o0")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -98.6134, 0, -54.6067)

[node name="PavingCobbleRough7" parent="Environment/Ground" instance=ExtResource("4_f20o0")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -58.008, 0, 16.9334)

[node name="PavingCobbleRough2" parent="Environment/Ground" instance=ExtResource("4_f20o0")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 83.2123, 0, -5.448)

[node name="PavingCobbleRough3" parent="Environment/Ground" instance=ExtResource("4_f20o0")]
transform = Transform3D(5.22846, 0, 0, 0, 1, 0, 0, 0, 1, 17.3294, 0, 30.3943)

[node name="PavingCobbleRough4" parent="Environment/Ground" instance=ExtResource("4_f20o0")]
transform = Transform3D(2.2158, 0, 0, 0, 1, 0, 0, 0, 1, 99.7575, 0, -43.706)

[node name="Buildings" type="Node3D" parent="Environment"]

[node name="MedievalBuildings" type="Node3D" parent="Environment/Buildings"]
transform = Transform3D(0.962986, 0, 0.0802279, 0, 0.957456, 0, -0.0796964, 0, 0.969408, -8.97613, 0, -3.64809)

[node name="MedievalBuilding1" parent="Environment/Buildings/MedievalBuildings" instance=ExtResource("29_ggqgj")]
transform = Transform3D(0.26827, 0, 0.493648, 0, 0.640199, 0, -0.780883, 0, 0.169591, 45.5855, -0.0159175, -20.2066)

[node name="MedievalBuilding2" parent="Environment/Buildings/MedievalBuildings" instance=ExtResource("19_r0s14")]
transform = Transform3D(-0.0769633, 0, 0.681193, 0, 0.695263, 0, -0.695344, 0, -0.075397, 76.1527, 3.8147e-06, -24.1053)

[node name="MedievalBuilding3" parent="Environment/Buildings/MedievalBuildings" instance=ExtResource("20_wbcfj")]
transform = Transform3D(0.62518, 0, 0.39206, 0, 0.583385, 0, -0.368274, 0, 0.665559, 57.0154, -0.00887193, 16.6329)

[node name="MedievalBuilding4" parent="Environment/Buildings/MedievalBuildings" instance=ExtResource("21_s8ahr")]
transform = Transform3D(-0.163412, 0, 0.986558, 0, 1, 0, -0.986558, 0, -0.163412, 51.4519, 0.0451, -65.0447)

[node name="MedievalBuilding5" parent="Environment/Buildings/MedievalBuildings" instance=ExtResource("22_4wfe0")]
transform = Transform3D(-4.47035e-08, 0, 0.712928, 0, 0.674064, 0, -0.711813, 0, -2.98023e-08, 88.5509, 0.00228453, 8.50577)

[node name="MedievalBuilding6" parent="Environment/Buildings/MedievalBuildings" instance=ExtResource("23_8vit4")]
transform = Transform3D(0.244732, 0, 0.718327, 0, 0.681572, 0, -0.717213, 0, 0.245112, 88.7591, 0.0294365, -64.8966)

[node name="MedievalBuilding7" parent="Environment/Buildings/MedievalBuildings" instance=ExtResource("24_4ctt1")]
transform = Transform3D(-0.133192, 0, -0.405906, 0, 0.679425, 0, 0.693285, 0, -0.0779815, 109.442, 0.00682519, -26.5069)

[node name="Castle" type="Node3D" parent="Environment/Buildings"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.648312, 0, -6.50797)

[node name="FullCastle1" parent="Environment/Buildings/Castle" instance=ExtResource("22_7vpp8")]
transform = Transform3D(-1.05514, 0, 0.177346, 0, 1.35724, 0, -0.161534, 0, -1.15842, -6.81589, -0.0176773, -20.6417)

[node name="Structures" type="Node3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 98)

[node name="OutsideWalls" type="Node3D" parent="Environment/Structures"]

[node name="CastleBigWallBase1" parent="Environment/Structures/OutsideWalls" instance=ExtResource("12_52cyd")]
transform = Transform3D(-4, 0, -6.03983e-07, 0, 4, 0, 6.03983e-07, 0, -4, 6, 0, -37.4873)

[node name="CastleBigWallBase2" parent="Environment/Structures/OutsideWalls" instance=ExtResource("12_52cyd")]
transform = Transform3D(-4, 0, -6.03983e-07, 0, 4, 0, 6.03983e-07, 0, -4, 38, 0, -37.4873)

[node name="CastleBigPillarBase1" parent="Environment/Structures/OutsideWalls" instance=ExtResource("13_tmwbo")]
transform = Transform3D(4, 0, 0, 0, 4, 0, 0, 0, 4, 75, 0, -37.5922)

[node name="Props" type="Node3D" parent="Environment"]

[node name="GothicWeepingAngelStatue1" parent="Environment/Props" instance=ExtResource("39_6g4s1")]
transform = Transform3D(0.0831386, 0, 0.996538, 0, 1, 0, -0.996538, 0, 0.0831386, -14.2903, 1.99404, -55.4223)

[node name="PrebuiltTowns" type="Node3D" parent="Environment"]

[node name="FullSmallTown1" parent="Environment/PrebuiltTowns" instance=ExtResource("18_vr4gf")]
transform = Transform3D(-0.364007, 0, -10.4654, 0, 8.28712, 0, 8.39763, 0, -0.45363, -77.4831, 0, -63.5078)

[node name="FullHarbourTown1" parent="Environment/PrebuiltTowns" instance=ExtResource("28_40i1d")]
transform = Transform3D(0.269961, 0, 7.60488, 0, 6.7694, 0, -5.94054, 0, 0.345605, 14.6464, -4.88281e-06, -224.224)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ublyh")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.320788, 0.890807, -0.321805, -0.643235, 0.454288, 0.616338, 0.69523, 0.00928265, 0.718728, -44.8472, 52.7676, 97.6761)
shadow_enabled = true

[node name="FogVolume" type="FogVolume" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.84156, 1.95403, 0)
visible = false
material = SubResource("FogMaterial_br7ke")

[node name="Player" parent="." instance=ExtResource("5_1n71g")]
transform = Transform3D(-0.9855, 0, 0.169676, 0, 1, 0, -0.169676, 0, -0.9855, -2.46165, 0.709427, -54.4791)

[node name="RainEffect1" parent="Player" instance=ExtResource("7_pnde6")]

[node name="TestTarget" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22, 1.60216, 5)
collision_layer = 6
script = ExtResource("6_h6yie")

[node name="CollisionShape3D" type="CollisionShape3D" parent="TestTarget"]
shape = SubResource("SphereShape3D_2iuiu")

[node name="MeshInstance3D" type="MeshInstance3D" parent="TestTarget"]
layers = 3
mesh = SubResource("SphereMesh_h30eo")

[node name="NPCs" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.06803, 0, -7.85306)

[node name="VikingArmourMan1" parent="NPCs" instance=ExtResource("8_sh6lw")]
transform = Transform3D(0.211414, 0, -1.13203, 0, 1.09815, 0, 1.03608, 0, 0.230994, 35.8247, -0.0555389, -5.47083)

[node name="Knight1" parent="NPCs" instance=ExtResource("9_e7xbm")]
transform = Transform3D(0.605444, 0, -0.845191, 0, 1.12995, 0, -0.763797, 0, -0.669963, 38.0077, 0.278382, -2.59648)

[node name="MutantSkeleton1" parent="NPCs" instance=ExtResource("10_q1ejs")]
transform = Transform3D(-0.825719, 0, -1.31645, 0, 1.44362, 0, 1.13396, 0, -0.958604, 41.095, -0.158196, -10.3683)

[node name="Nun1" parent="NPCs" instance=ExtResource("11_wxon7")]
transform = Transform3D(-0.644235, 0, -1.08528, 0, 1.28761, 0, -0.889649, 0, 0.785902, 38.348, -0.167542, -8.24296)

[node name="VillagerWoman1" parent="NPCs" instance=ExtResource("7_s5i1m")]
transform = Transform3D(-0.381126, 0, -0.942566, 0, 0.846156, 0, 0.840617, 0, -0.427349, 37.4335, 0.506169, 1.0395)

[node name="VillagerMale1" parent="NPCs" instance=ExtResource("12_khl8n")]
transform = Transform3D(-0.492413, 0, -0.561319, 0, 0.8003, 0, 0.556591, 0, -0.496596, 34.8877, -0.0877167, -10.9298)

[node name="LanternCharacter1" parent="NPCs" instance=ExtResource("14_fn874")]
transform = Transform3D(-0.592618, 0, 0.805484, 0, 1, 0, -0.805484, 0, -0.592618, 33.4719, 0.181291, 1.1687)

[node name="Audio" type="Node3D" parent="."]

[node name="Ambience1" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("50_axq87")
volume_db = -25.0
bus = &"Ambience"
